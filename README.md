# Пример использования Docker

## О Docker

Docker — это открытая платформа для разработки, доставки и эксплуатации приложений. 
Docker позволяет создать изолированное переносимое окружение. Т.е. окружение не зависящее от того, на каком компьютере 
оно запускается и легко переносимой с одного компьютера на другой. Благодаря этой возможности используя докер можно 
создать оптимальное окружение для проекта (например php + web-сервер + ssl(c возможность шифрования алгоритмом GOST2012))
и легко распространить его между компьютерами разработчиков.

Подробную информацию о Docker и его установке можно прочитать на официальном сайте: 
[Docker overview](https://docs.docker.com/get-started/overview/)

## Хранилища образов (registry)

Основным местом для хранения образов докера является [docker hub](https://hub.docker.com/). Любой может 
зарегистрироваться на этом ресурсе и бесплатно размещать свои образы, чтобы получать доступ к ним с любого компа.

## Примеры использования

### Использование существующего контейнера

Чтобы воспользоваться уже существующим контейнером, нужно выполнить одну команду и, если образ не был ранее скачан, то
Docker его скачает и запустит.

Например можно запустить вебсервер nginx выполнив в командной оболочке команду

```
docker run -p 8081:80 nginx:1.19
```

где:
 - docker - консольная утилита для управления докером
 - run - действие запуска контейнера (так же есть действия exec, build прочие)
 - -p 8081:80 - указывает, что необходимо связать порт 8081(можно указать любой не занятый порт) хостовой ОС с портом 
 80 внутри контейнера. 
 - nginx:1.19 - название и тег образа (в качестве тега часто указывается версия ПО или контейнера).
 
Чтобы остановить контейнер, нажмите Ctrl+C.
 
После скачивания образа и запуска контейнера можно перейти по адресу [http://localhost:8081/](http://localhost:8081/) и 
увидеть приветственную страницу nginx
 
Из документации nginx известно что путь к сайту по-умолчанию /usr/share/nginx/html. Можно смонтировать любую папку 
хостовой системы в папку /usr/share/nginx/html. в этом случае nginx будет брать сайт с вашего компа. 
- создадим папку и назовем её site
- запустим контейнер с монтированием папки site хостовой ОС в папку /usr/share/nginx/html контейнера
```
docker run -p 8081:80 -v "<путь_к_папке_site>:/usr/share/nginx/html" nginx:1.19
```
- теперь можно перейти по ссылке [http://localhost:8081/](http://localhost:8081/) и увидеть сайт.

Сайт должен быть статическим (т.е. не содержать никаких скриптов на PHP) и иметь файл index.html в корневой папке.

